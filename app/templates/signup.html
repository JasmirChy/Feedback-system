<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sign Up</title>
  <!-- 1. Preconnect for fastest DNS/TCP/TLS setup -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com">

  <!-- 2. Preload the Tailwind script so the browser fetches it ASAP -->
  <link rel="preload" as="script" href="https://cdn.tailwindcss.com">

  <!-- 3. Load Tailwind *synchronously* so its CSS is injected before the first paint -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-[#D3D3D3] grid place-items-center font-sans relative">

  

  <!-- Signup Form -->
  <div class="bg-[#E5E4E2] p-6 rounded-xl shadow-lg md:w-[480px] sm:w-96 z-10">
    <form id="signupForm" class="space-y-4 " method="post" onsubmit="return handleSignUp(event)">
      <div class="flex flex-col items-center mb-4">
        <h1 class="text-3xl font-bold text-teal-900">FEEDBACK SYSTEM</h1>
      </div>
      <h2 class="text-center text-lg font-bold text-black">Create Account</h2>

      <!-- Hidden userType -->
      <input type="hidden" id="userType" name="userType" value="studentStaff">

      <!-- Toggle Buttons -->
      <div class="flex justify-between gap-2">
        <button type="button" onclick="setUserType('studentStaff')" id="studentBtn" name="studentBtn"
          class="flex-1 p-2 rounded-lg bg-indigo-900 text-white font-medium">Student/Staff</button>
        <button type="button" onclick="setUserType('general')" id="generalBtn" name="generalBtn"
          class="flex-1 p-2 rounded-lg bg-gray-300 text-black font-medium">Public</button>
      </div>

      <!-- Email -->
      <div>
        <label for="email" class="block text-sm font-semibold text-black mb-1">Email Address</label>
        <input type="email" id="email" name="email" required
          class="w-full p-3 rounded-lg border border-gray-300 text-sm text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500">
      </div>

      <!-- Full Name -->
      <div>
        <label for="fullname" class="block text-sm font-semibold text-black mb-1">Full Name</label>
        <input type="text" id="fullname" name="fullname" required
          class="w-full p-3 rounded-lg border border-gray-300 text-sm text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500">
      </div>

      <!-- ID Number -->
      <div id="idField">
        <label for="idnumber" class="block text-sm font-semibold text-black mb-1">ID Number</label>
        <input type="text" id="idnumber" name="idnumber"
          class="w-full p-3 rounded-lg border border-gray-300 text-sm text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
          placeholder="Enter your ID">
      </div>
      <!-- Date of Birth -->
      <div id="dobField" >
        <label for="dob" class="block text-sm font-semibold text-black mb-1">Date of Birth</label>
        <input type="text" id="dob" name="dob"
          class="w-full p-3 rounded-lg border border-gray-300 text-sm text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
          placeholder="Enter your Date of Birth">
      </div>


      <!-- Designation Field -->
      <div id="designationField">
        <label for="designation" class="block text-sm font-semibold text-black mb-1">Designation</label>
        <input type="text" id="designation" name="designation"
          class="w-full p-3 rounded-lg border border-gray-300 text-sm text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"
          placeholder="Student, Lecturer, Librarian etc.">
      </div>

      <!-- Username -->
      <div>
        <label for="username" class="block text-sm font-semibold text-black mb-1">Username</label>
        <input type="text" id="username" name="username" required
          class="w-full p-3 rounded-lg border border-gray-300 text-sm text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500">
      </div>

      <!-- Password -->
      <div>
        <label for="password" class="block text-sm font-semibold text-black mb-1">Password</label>
        <input type="password" id="password" name="password1" required
          class="w-full p-3 rounded-lg border border-gray-300 text-sm text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500">
      </div>

      <!-- Confirm_Password -->
      <div>
        <label for="confirm_password" class="block text-sm font-semibold text-black mb-1">Confirm Password</label>
        <input type="password" id="confirm_password" name="password2" required
          class="w-full p-3 rounded-lg border border-gray-300 text-sm text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500">
      </div>

      <!-- Submit -->
      <button type="submit"
        class="w-full p-3 bg-indigo-900 text-white rounded-lg text-base font-medium cursor-pointer hover:bg-teal-600 shadow-md transition">
        Sign Up
      </button>

      <!-- Already have an account -->
      <div class="text-center mt-3">
        <a href="login.html" class="text-sm text-black hover:underline">Already have an account? <p class="text-blue-600">Login here</p></a>
      </div>
    </form>

    <!-- Error Modal -->
    <div id="errorOverlay" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm hidden z-50 flex items-center justify-center">
      <div class="bg-white p-6 rounded-xl shadow-xl text-center max-w-sm w-full">
        <h2 class="text-2xl font-bold text-red-600 mb-4">‚ùå Password Error</h2>
        <p id="errorMessage" class="text-black text-base mb-6"></p>
        <button onclick="closeErrorModal()" class="px-4 py-2 bg-indigo-900 text-white rounded hover:bg-teal-600 transition">OK</button>
      </div>
    </div>

  </div>
  <!-- Success Modal -->
  <div id="successOverlay" class="hidden absolute inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50">
    <div class="bg-white p-6 rounded-lg shadow-xl text-center w-96">
      <h2 class="text-xl font-bold mb-2 text-indigo-900" id="successMessage">Account Created Successfully!</h2>
      <button onclick="closeSuccessModal()" class="mt-4 px-4 py-2 bg-indigo-900 text-white rounded hover:bg-teal-600">OK</button>
    </div>
  </div>

 <script src="{{url_for('static',filename='js/signup.js')}}"></script>
</body>
</html>
